"use strict";(self["webpackChunkmy_github_page"]=self["webpackChunkmy_github_page"]||[]).push([[969],{9969:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var s=r(6768),c=r(4232);const a={class:"resource-page"},n={class:"resource-grid"},o={class:"pagination"},u=["disabled"],i={class:"page-info"},l=["disabled"];function d(e,t,r,d,g,h){const k=(0,s.g2)("ResourceDetail"),p=(0,s.g2)("ResourceCard");return(0,s.uX)(),(0,s.CE)("div",a,[g.selectedResource?((0,s.uX)(),(0,s.Wv)(k,{key:0,resource:g.selectedResource,onBack:t[0]||(t[0]=e=>g.selectedResource=null)},null,8,["resource"])):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.Lk)("div",n,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(h.currentPageItems,(e=>((0,s.uX)(),(0,s.Wv)(p,{key:e.id,resource:e,onClickResource:h.showResourceDetail},null,8,["resource","onClickResource"])))),128))]),(0,s.Lk)("div",o,[(0,s.Lk)("button",{disabled:1===g.currentPage,onClick:t[1]||(t[1]=e=>h.changePage(g.currentPage-1)),class:"page-btn"}," 上一页 ",8,u),(0,s.Lk)("span",i,(0,c.v_)(g.currentPage)+" / "+(0,c.v_)(h.totalPages),1),(0,s.Lk)("button",{disabled:g.currentPage===h.totalPages,onClick:t[2]||(t[2]=e=>h.changePage(g.currentPage+1)),class:"page-btn"}," 下一页 ",8,l)])],64))])}const g={class:"resource-image"},h=["src","alt"],k={class:"resource-content"},p={class:"resource-title"};function m(e,t,r,a,n,o){return(0,s.uX)(),(0,s.CE)("div",{class:"resource-card",onClick:t[0]||(t[0]=t=>e.$emit("click-resource",r.resource))},[(0,s.Lk)("div",g,[(0,s.Lk)("img",{src:n.titleImageUrl,alt:r.resource.title},null,8,h)]),(0,s.Lk)("div",k,[(0,s.Lk)("h3",p,(0,c.v_)(r.resource.title),1)])])}var v={name:"ResourceCard",props:{resource:{type:Object,required:!0}},data(){return{titleImageUrl:this.resource.titleImageURL}},mounted(){},methods:{}},b=r(1241);const R=(0,b.A)(v,[["render",m],["__scopeId","data-v-57c8b6de"]]);var L=R;const C={class:"resource-detail"},f={class:"detail-header"},P=["src","alt"],I=["innerHTML"];function _(e,t,r,a,n,o){return(0,s.uX)(),(0,s.CE)("div",C,[(0,s.Lk)("div",f,[(0,s.Lk)("button",{class:"back-button",onClick:t[0]||(t[0]=t=>e.$emit("back"))},"返回列表"),(0,s.Lk)("h1",null,(0,c.v_)(r.resource.title),1)]),(0,s.Lk)("img",{src:n.titleImageUrl,alt:r.resource.title,class:"detail-image"},null,8,P),(0,s.Lk)("div",{class:"content",innerHTML:n.content},null,8,I)])}var y={name:"ResourceDetail",props:{resource:{type:Object,required:!0}},data(){return{content:"",titleImageUrl:this.resource.titleImageURL}},mounted(){this.fetchContent(this.resource.contentURL,this.resource.contentID)},methods:{async fetchContent(e,t){try{const r=await fetch(e),s=await r.json();for(let e=0;e<s.length;e++)s[e].contentID==t&&(this.content=s[e].content)}catch(r){console.log(r)}return this.content}}};const w=(0,b.A)(y,[["render",_],["__scopeId","data-v-56ddb0f5"]]);var D=w,U={name:"ResourceView",components:{ResourceCard:L,ResourceDetail:D},data(){return{resources:[],currentPage:1,pageSize:10,selectedResource:null}},computed:{totalPages(){return Math.ceil(this.resources.length/this.pageSize)},currentPageItems(){const e=(this.currentPage-1)*this.pageSize,t=e+this.pageSize;return this.resources.slice(e,t)}},methods:{async fetchResources(){try{const e=await fetch("https://raw.githubusercontent.com/3542Q/JSRepository/main/articles/articles.json"),t=await e.json();t.sort(((e,t)=>t.articleID-e.articleID)),this.resources=t}catch(e){console.error("Failed to load script:",e)}},changePage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e)},showResourceDetail(e){this.selectedResource=e}},mounted(){this.fetchResources()}};const X=(0,b.A)(U,[["render",d],["__scopeId","data-v-bc8e8916"]]);var j=X}}]);
//# sourceMappingURL=969.127c50b4.js.map